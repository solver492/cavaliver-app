### **Prompt pour Windsurf (Codeium) - D√©ploiement et Acc√®s Client via URL**

---

#### **1. Contexte**  
Le client souhaite :  
- **Acc√©der √† une version consultable** de l'application via une URL s√©curis√©e.  
- **Naviguer dans l'interface** (sans droit de modification, sauf pour les actions autoris√©es selon son r√¥le *Admin*).  
- **Tester les nouvelles fonctionnalit√©s** (plannings, champs dynamiques, documents).  

---

### **2. Exigences Techniques**  

#### **A. D√©ploiement**  
- **Environnement** :  
  - D√©ployer sur un serveur temporaire (ex: VPS, AWS EC2, ou service comme **Render/Heroku**).  
  - Utiliser un sous-domaine (ex: `client.nomapp.com`) ou une URL temporaire (ex: `nomapp-render.onrender.com`).  
- **Configuration minimale** :  
  - PHP 8.x + MySQL.  
  - HTTPS obligatoire (certificat Let's Encrypt).  

#### **B. Acc√®s Client**  
- **URL fournie au client** :  
  - Lien direct vers la page de connexion (ex: `https://client.nomapp.com/login`).  
  - Identifiants pr√©-enregistr√©s pour son r√¥le *Admin* (ex: `email: admin@client.com` / `motdepasse: temporaire123`).  
- **Permissions** :  
  - Peut tout voir **sauf** :  
    - Param√®tres syst√®me (onglet r√©serv√© au *SuperAdmin*).  
    - Journal d‚Äôaudit (logs des actions sensibles).  
  - Peut **cr√©er des champs dynamiques**, mais **pas supprimer** ceux marqu√©s comme verrouill√©s (`is_locked=true`).  

#### **C. S√©curit√©**  
- **Compte SuperAdmin cach√©** :  
  - Ne pas afficher notre compte dans la liste des utilisateurs.  
  - Acc√®s limit√© √† l‚ÄôIP de l‚Äô√©quipe de dev (firewall).  
- **Session client** :  
  - Expiration apr√®s 1h d‚Äôinactivit√©.  
  - Pas de droit de d√©ploiement ou d‚Äôacc√®s SSH/BDD.  

---

### **3. √âtapes de D√©ploiement (√† Automatiser)**  

1. **Backend** :  
   - Cloner le d√©p√¥t Git sur le serveur.  
   - Ex√©cuter `composer install` + `php artisan migrate --seed` (si Laravel).  
   - Configurer `.env` avec les acc√®s BDD + `APP_ENV=staging`.  

2. **Frontend** :  
   - Builder les assets (`npm run build`).  
   - Configurer le vhost pour pointer vers `/public`.  

3. **S√©curit√©** :  
   - Bloquer l‚Äôacc√®s √† `/admin/database` ou `/phpmyadmin`.  
   - Activer le pare-feu (`ufw` sur Linux).  

4. **URL temporaire** :  
   - Si pas de domaine, utiliser **ngrok** pour un tunnel HTTPS :  
     ```bash
     ngrok http 80 --region=eu --subdomain=client-nomapp
     ```  
   - URL g√©n√©r√©e : `https://client-nomapp.ngrok.io`.  

---

### **4. Message pour Windsurf (Codeium)**  
*"Nous avons besoin d‚Äôun script de d√©ploiement automatis√© qui :  
1. Cr√©e une instance s√©curis√©e (HTTPS, isolation BDD).  
2. G√©n√®re une URL consultable pour le client.  
3. Cache les routes/param√®tres r√©serv√©s au SuperAdmin.  

Le client doit pouvoir :  
- Se connecter avec son compte *Admin*.  
- Tester les plannings, ajouter des champs dynamiques, uploader des PDF.  
- **Mais ne pas voir** les logs syst√®me ou modifier les permissions."*  

---

### **5. R√©ponse au Client**  
*"Voici votre acc√®s √† la version de test :  
üîó **URL** : [https://client.nomapp.com](https://client.nomapp.com)  
üîê **Identifiants** : admin@client.com / temporaire123  

‚ö†Ô∏è **Important** :  
- Ce lien est temporaire (valable 30 jours).  
- Vos modifications seront conserv√©es pour la version finale.  
- Contactez-nous pour toute demande critique (ex: suppression accidentelle)."*  

---

### **6. Bonus : Surveillance**  
- Ajouter **Sentry** ou **New Relic** pour tracker les erreurs en temps r√©el.  
- Envoyer un rapport hebdomadaire au client (ex: "30 nouveaux champs cr√©√©s cette semaine").  

---

Ce prompt garantit :  
‚úÖ Un **acc√®s client imm√©diat et s√©curis√©**.  
‚úÖ Une **s√©paration claire** entre *SuperAdmin* (nous) et *Admin* (client).  
‚úÖ Un **d√©ploiement r√©versible** (pas de risque de perte de donn√©es).  

Besoin d‚Äôajuster l‚ÄôURL ou les permissions ? Je peux affiner les d√©tails. üöÄ